#!groovy

properties([disableConcurrentBuilds()])

pipeline {
    parameters {
            choice(choices: ['Cube', 'Sphere', 'Cone', 'Torus'], description: '', name: 'Type_of_object')
            string(defaultValue: '', description: '', name: 'Count_of_objects ', trim: false)
            choice(choices: ['IES', 'Physical'], description: '', name: 'Type_of_light')
            string(defaultValue: '', description: '', name: 'Count_of_materials ', trim: false) 
            string(defaultValue: '', description: '', name: 'Count_of_light', trim: false) 
            booleanParam(defaultValue: false, description: '', name: 'Use_IBL')
            string(defaultValue: '', description: '', name: 'Max_Samples', trim: false) 
            string(defaultValue: '', description: '', name: 'Threshold', trim: false)
    }
    agent { 
        label 'Agent'
        }
    options {
        buildDiscarder(logRotator(numToKeepStr: '10', artifactNumToKeepStr: '10'))
        timestamps()
    }
    stages {
        stage("First step") {
            steps {
                echo "${params.Threshold}"
                echo "${params.Max_Samples}"
                echo "mayapy D:/Workspace/test_scpirts/test.py -ot ${params.Type_of_objects} -oc ${params.Count_of_object}"
                // D:\Autodesk\Maya\Maya2019\bin>mayapy D:\Workspace\test_scpirts\test.py -ot 'Cube'
            }
        }
    }
}

